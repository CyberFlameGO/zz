using fl;
using libc::stdio;

export fn main() -> int {
    fl_MAKE(b, 8, 1000);

    for (int i = 0; i < 10; i++) {
        printf("alloc %d\n", i);
        fl_alloc(b);
    }

    void *m1 = fl_alloc(b);
    void *m2 = fl_alloc(b);
    fl_release(b, m1);
    fl_release(b, m2);
    void *m3 = fl_alloc(b);
    fl_release(b, m3);

    return 0;
}
